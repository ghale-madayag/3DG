import{b as d,T as B,x as S,O as g,o as b,c as A,w as m,a as u,u as k,Z as D,e as s,d as T,g as R,h as O,i as V}from"./app-ee8cda80.js";import{L as P}from"./main-17b5d321.js";import{P as z}from"./page-header-861ce382.js";import{L as E,w as n}from"./mermaid-cf784c66.js";import{S as U}from"./sweetalert2.min-72b165bc.js";import"./logo-dark-d94ba77b.js";import"./_plugin-vue_export-helper-c27b6911.js";const q=s("meta",{name:"viewport",content:"your content"},null,-1),I={class:"row"},M={class:"col-lg-12"},Y={class:"card"},j={class:"card-header border-bottom-dashed"},G={class:"row g-4 align-items-center"},H=s("div",{class:"col-sm"},[s("div",null,[s("h5",{class:"card-title mb-0"},"Land List")])],-1),Z={class:"col-sm-auto"},F={class:"d-flex flex-wrap align-items-start gap-2"},J=s("i",{class:"ri-delete-bin-2-line"},null,-1),K=[J],Q=s("i",{class:"ri-add-line align-bottom me-1"},null,-1),ne={__name:"Index",props:{lands:Object},setup(v){const f=d(null);let h;const o=d([]);let l=v,c=B({id:null});d(!1);const p=U.mixin({customClass:{confirmButton:"btn btn-primary mr-2",cancelButton:"btn btn-link",container:"modal-lesson"},buttonsStyling:!1}),_=t=>t.map(e=>[e.id,e.name,e.size+" Sqm",e.address+", "+r(e.barangay)+", "+r(e.municipality)+", "+r(e.province)+", "+e.region,e.seller.fname+" "+e.seller.lname,e.owner.fname+" "+e.owner.lname,w(e.created_at),e.slug]);S(()=>{const t=_(l.lands);h=new E({columns:[{id:"checkboxCol",width:"40px",name:n("input",{type:"checkbox",className:"form-check-input",onChange:e=>N(e)}),align:"center",formatter:(e,a)=>n("input",{type:"checkbox",className:"form-check-input",onClick:i=>y(i,a)}),sort:!1},{name:"Name"},{name:"Size"},{name:"Groundbreaking"},{name:"Address"},{name:"Seller"},{name:"Owner"},{name:"Created Date"},{id:"actionsColumn",name:"Actions",align:"center",width:"75px",formatter:(e,a)=>n("ul",{className:"list-inline hstack gap-2 mb-0"},[n("li",{className:"list-inline-item","data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":"top",title:"View"},[n("a",{href:"#",className:"text-info d-inline-block",onClick:()=>L(a)},[n("i",{className:"ri-eye-fill fs-16"})])]),n("li",{className:"list-inline-item edit","data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":"top",title:"Edit"},[n("a",{href:"#showModal","data-bs-toggle":"modal",className:"text-primary d-inline-block edit-item-btn",onClick:()=>x(a)},[n("i",{className:"ri-pencil-fill fs-16"})])])]),sort:!1}],sort:!1,theme:"mermaid",search:!0,pagination:{limit:10},data:function(){return new Promise(function(e){setTimeout(function(){e(t)},2e3)})}}).render(f.value)});const w=t=>{const e=new Date(t),a={month:"long",day:"numeric",year:"numeric"};return/\d{2}:\d{2}/.test(t)&&(a.hour="numeric",a.minute="numeric",a.hour12=!0),e.toLocaleDateString("en-US",a)},r=t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),x=t=>{console.log(t),g.visit("/land/"+t.cells[7].data+"/edit")},C=()=>{p.fire({title:"Are you sure?",text:"Are you Sure You want to Delete this data ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&(c.id=o,c.delete("/land/delete",{id:o.value,onSuccess:()=>{p.fire("Deleted!","The data has been deleted.","success");const e=_(l.lands);h.updateConfig({data:function(){return new Promise(function(a){setTimeout(function(){a(e)},1e3)})}}).forceRender(),c.reset(),o.value=[]}}))})},y=(t,e)=>{if(t.target.checked)o.value.push(e.cells[0].data);else{const a=o.value.indexOf(e.cells[0].data);a!==-1&&o.value.splice(a,1)}},N=t=>{const e=t.target.checked;o.value=e?l.lands.map(i=>i.id):[],document.querySelectorAll(".form-check-input").forEach(i=>{i.checked=e})},L=t=>{g.visit("/land/"+t.cells[7].data+"/")};return(t,e)=>(b(),A(P,null,{default:m(()=>[u(k(D),{title:"Land List"},{default:m(()=>[q]),_:1}),u(z,{title:"Land List",pageTitle:"Dashboard"}),s("div",I,[s("div",M,[s("div",Y,[s("div",j,[s("div",G,[H,s("div",Z,[s("div",F,[o.value.length>0?(b(),T("button",{key:0,class:"btn btn-soft-danger",onClick:C},K)):R("",!0),u(k(V),{href:"/land/create",class:"btn btn-success add-btn"},{default:m(()=>[Q,O(" Add New")]),_:1})])])])]),s("div",{class:"card-body",ref_key:"gridContainer",ref:f},null,512)])])])]),_:1}))}};export{ne as default};
