import{b as c,T as D,s as q,m as O,x as F,o as b,c as H,w as N,a as S,u as a,Z as I,e,d as C,g as k,h as z,j as Z,l as m,y as u,n as r,t as f}from"./app-8bd223dd.js";import{L as G}from"./main-5f5ff01d.js";import{P as J}from"./page-header-6b898d34.js";import"./vue-inputmask-9494733a.js";import{L as K,w as g}from"./mermaid-cf784c66.js";import"./logo-dark-d94ba77b.js";import"./_plugin-vue_export-helper-c27b6911.js";const Q=e("meta",{name:"viewport",content:"your content"},null,-1),W={class:"row"},X={class:"col-lg-12"},Y={class:"card"},$={class:"card-header border-bottom-dashed"},ee={class:"row g-4 align-items-center"},te=e("div",{class:"col-sm"},[e("div",null,[e("h5",{class:"card-title mb-0"},"Contact List")])],-1),se={class:"col-sm-auto"},ae={class:"d-flex flex-wrap align-items-start gap-2"},oe=e("i",{class:"ri-delete-bin-2-line"},null,-1),le=[oe],ne=e("i",{class:"ri-add-line align-bottom me-1"},null,-1),ie={class:"modal-dialog modal-dialog-centered"},de={class:"modal-content"},re=e("h5",{class:"modal-title"},null,-1),ce={class:"modal-body"},me={class:"mb-3"},ue=e("label",{for:"fname",class:"form-label"},"First Name",-1),fe=e("div",{class:"invalid-feedback"},"Please enter first name.",-1),he={class:"mb-3"},_e=e("label",{for:"lname",class:"form-label"},"Last Name",-1),pe={class:"invalid-feedback"},ve={class:"mb-3"},be=e("label",{for:"email",class:"form-label"},"Email",-1),ge={class:"invalid-feedback"},Ce={class:"mb-3"},ke=e("label",{for:"phone",class:"form-label"},"Phone",-1),xe={class:"invalid-feedback"},ye={class:"mb-3"},we=e("label",{for:"address",class:"form-label"},"Address",-1),De={class:"invalid-feedback"},Ne=e("label",{for:"other_details",class:"form-label"},"Other Details",-1),Se={class:"invalid-feedback"},Le={class:"modal-footer"},Ve={class:"hstack gap-2 justify-content-end"},Pe={key:0,class:"spinner-border text-success",role:"status"},Te=e("span",{class:"sr-only"},"Loading...",-1),Ae=[Te],Ee={type:"submit",class:"btn btn-success is-loading"},Fe={__name:"Index",props:{contacts:Object},setup(L){const x=c(null);let _;const i=c([]);let h=L;const p=c(!1),V=()=>{p.value?U():M()};let s=D({id:null,fname:null,lname:null,email:null,phone:c(),address:null,other_details:null}),y=D({id:null});c(!1);const d=c(!1),P=o=>{p.value=!0,d.value=!0,s.id=o.cells[0].data,s.fname=o.cells[1].data,s.lname=o.cells[2].data,s.phone=o.cells[4].data,s.email=o.cells[5].data,s.address=o.cells[6].data,s.other_details=o.cells[7].data},w=()=>{d.value=!1},v=o=>o.map(t=>[t.id,t.fname,t.lname,t.fname+" "+t.lname,t.phone,t.email,t.address,t.other_details,j(t.created_at),t.id]);q(()=>{const o=v(h.contacts);_=new K({columns:[{id:"checkboxCol",width:"40px",name:g("input",{type:"checkbox",className:"form-check-input",onChange:t=>E(t)}),align:"center",formatter:(t,n)=>g("input",{type:"checkbox",className:"form-check-input",onClick:l=>A(l,n)}),sort:!1},{id:"fnameColumn",name:"fname",hidden:!0},{id:"lnameColumn",name:"lname",hidden:!0},{id:"nameColumn",name:"Name"},{id:"phoneColumn",name:"Phone"},{id:"emailColumn",name:"Email"},{id:"addressColumn",name:"Address"},{id:"other_details",name:"other_details",hidden:!0},{id:"createColumn",name:"Created Date"},{id:"actionsColumn",name:"Actions",align:"center",width:"75px",formatter:(t,n)=>g("a",{href:"javascript:void(0);",className:"text-muted",onClick:()=>P(n)},[g("i",{className:"ri-pencil-fill fs-16"})]),sort:!1}],sort:!1,theme:"mermaid",search:!0,pagination:{limit:10},data:function(){return new Promise(function(t){setTimeout(function(){t(o)},2e3)})}}).render(x.value)});const T=()=>{d.value=!0,p.value=!1},A=(o,t)=>{if(o.target.checked)i.value.push(t.cells[0].data);else{const n=i.value.indexOf(t.cells[0].data);n!==-1&&i.value.splice(n,1)}},E=o=>{const t=o.target.checked;i.value=t?h.contacts.map(l=>l.id):[],document.querySelectorAll(".form-check-input").forEach(l=>{l.checked=t})},M=()=>{s.post("/contact/store",{onStart:()=>{},onSuccess:()=>{const o=v(h.contacts);d.value=!1,_.updateConfig({data:function(){return new Promise(function(t){setTimeout(function(){t(o)},1e3)})}}).forceRender(),s.reset()}})},U=()=>{s.post("/contact/"+s.id,{onStart:()=>{},onSuccess:()=>{const o=v(h.contacts);d.value=!1,_.updateConfig({data:function(){return new Promise(function(t){setTimeout(function(){t(o)},1e3)})}}).forceRender(),s.reset()}})},R=()=>{y.id=i,y.delete("/contact/delete",{id:i.value,onSuccess:()=>{const o=v(h.contacts);_.updateConfig({data:function(){return new Promise(function(t){setTimeout(function(){t(o)},1e3)})}}).forceRender()}})},B=O(()=>p.value?"Edit Contact":"Add Contact");function j(o){const t=new Date(o),n={month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-US",n)}return(o,t)=>{const n=F("mask");return b(),H(G,null,{default:N(()=>[S(a(I),{title:"Contact List"},{default:N(()=>[Q]),_:1}),S(J,{title:"Contact",pageTitle:"Dashboard"}),e("div",W,[e("div",X,[e("div",Y,[e("div",$,[e("div",ee,[te,e("div",se,[e("div",ae,[i.value.length>0?(b(),C("button",{key:0,class:"btn btn-soft-danger",onClick:R},le)):k("",!0),e("button",{type:"button",class:"btn btn-success add-btn",onClick:T},[ne,z(" Add New")])])])])]),e("div",{class:"card-body",ref_key:"gridContainer",ref:x},null,512)])])]),d.value?(b(),C("div",{key:0,class:r(["modal fade",{show:d.value}]),tabindex:"-1",role:"dialog"},[e("div",ie,[e("div",de,[e("div",{class:"modal-header bg-light p-3"},[re,e("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:w})]),e("form",{class:"tablelist-form",autocomplete:"off",onSubmit:Z(V,["prevent"])},[e("div",ce,[e("div",me,[ue,m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>a(s).fname=l),id:"fname",type:"text",class:r(["form-control",{"is-invalid":a(s).errors.fname}]),placeholder:"Enter First Name",required:""},null,2),[[u,a(s).fname]]),fe]),e("div",he,[_e,m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>a(s).lname=l),id:"lname",type:"text",class:r(["form-control",{"is-invalid":a(s).errors.lname}]),placeholder:"Enter Last Name",required:""},null,2),[[u,a(s).lname]]),e("div",pe,f(a(s).errors.lname),1)]),e("div",ve,[be,m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>a(s).email=l),id:"email",type:"email",class:r(["form-control",{"is-invalid":a(s).errors.email}]),placeholder:"Enter email"},null,2),[[u,a(s).email]]),e("div",ge,f(a(s).errors.email),1)]),e("div",Ce,[ke,m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>a(s).phone=l),class:r([{"is-invalid":a(s).errors.phone},"form-control"]),id:"phone",type:"text",placeholder:"(63)-###-###-####",required:""},null,2),[[u,a(s).phone],[n,"(##)-###-###-####"]]),e("div",xe,f(a(s).errors.phone),1)]),e("div",ye,[we,m(e("textarea",{class:r(["form-control",{"is-invalid":a(s).errors.address}]),"onUpdate:modelValue":t[4]||(t[4]=l=>a(s).address=l),id:"address",rows:"2"},null,2),[[u,a(s).address]]),e("div",De,f(a(s).errors.address),1)]),e("div",null,[Ne,m(e("textarea",{class:r(["form-control",{"is-invalid":a(s).errors.other_details}]),"onUpdate:modelValue":t[5]||(t[5]=l=>a(s).other_details=l),id:"other_details",rows:"3"},null,2),[[u,a(s).other_details]]),e("div",Se,f(a(s).errors.other_details),1)])]),e("div",Le,[e("div",Ve,[e("button",{type:"button",class:"btn btn-light",onClick:w},"Close"),a(s).processing?(b(),C("div",Pe,Ae)):k("",!0),e("button",Ee,f(B.value),1)])])],32)])])],2)):k("",!0)]),_:1})}}};export{Fe as default};
