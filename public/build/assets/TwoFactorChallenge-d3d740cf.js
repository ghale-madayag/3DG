import{b as v,T as R,r as l,o as c,d as n,a as e,u as s,Z as D,e as t,w as a,i as I,F as i,h as d,j as x,n as y,t as N,k as U,q as j}from"./app-ee8cda80.js";import{_ as L}from"./logo-dark-d94ba77b.js";import{_ as b}from"./InputError-99e3bd2c.js";import{_ as w}from"./InputLabel-f6716721.js";import{_ as B}from"./TextInput-7d31e8ba.js";const S={class:"auth-page-wrapper pt-5"},$=U('<div class="auth-one-bg-position auth-one-bg" id="auth-particles"><div class="bg-overlay"></div><div class="shape"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1440 120"><path d="M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"></path></svg></div></div>',1),z={class:"auth-page-content"},A={class:"text-center mt-sm-5 mb-4 text-white-50"},E=t("img",{src:L,alt:"",height:"120"},null,-1),M=t("div",{class:"mb-4"},[t("div",{class:"avatar-lg mx-auto"},[t("div",{class:"avatar-title bg-light text-primary display-5 rounded-circle"},[t("i",{class:"ri-rotate-lock-line"})])])],-1),P={class:"p-2 mt-4"},q={class:"text-muted text-center mb-4 mx-lg-3"},G=t("h4",{class:""},"Two Factor Authentication",-1),Y={class:"text-sm text-muted"},Z={key:0},H={key:1},J={class:"d-flex align-items-center justify-content-end mt-4"},K={class:"footer"},O={class:"text-center"},Q={class:"mb-0 text-muted"},ce={__name:"TwoFactorChallenge",setup(W){const r=v(!1),o=R({code:"",recovery_code:""}),f=v(null),h=v(null),C=async()=>{r.value^=!0,await j(),r.value?(f.value.focus(),o.code=""):(h.value.focus(),o.recovery_code="")},k=()=>{o.post(route("two-factor.login"))};return(X,u)=>{const _=l("BCol"),m=l("BRow"),V=l("BButton"),F=l("BCardBody"),T=l("BCard"),g=l("BContainer");return c(),n(i,null,[e(s(D),{title:"Two Factor Authentication"}),t("div",S,[$,t("div",z,[e(g,null,{default:a(()=>[e(m,null,{default:a(()=>[e(_,{lg:"12"},{default:a(()=>[t("div",A,[t("div",null,[e(s(I),{href:"/",class:"d-inline-block auth-logo"},{default:a(()=>[E]),_:1})])])]),_:1})]),_:1}),e(m,{class:"justify-content-center"},{default:a(()=>[e(_,{md:"8",lg:"6",xl:"5"},{default:a(()=>[e(T,{"no-body":"",class:"mt-4"},{default:a(()=>[e(F,{class:"p-4"},{default:a(()=>[M,t("div",P,[t("div",q,[G,t("div",Y,[r.value?(c(),n(i,{key:1},[d(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(c(),n(i,{key:0},[d(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))])]),t("form",{onSubmit:x(k,["prevent"])},[r.value?(c(),n("div",H,[e(w,{for:"recovery_code",value:"Recovery Code"}),e(B,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:f,modelValue:s(o).recovery_code,"onUpdate:modelValue":u[1]||(u[1]=p=>s(o).recovery_code=p),type:"text",autocomplete:"one-time-code",class:y({"is-invalid":s(o).errors.recovery_code})},null,8,["modelValue","class"]),e(b,{class:"mt-2",message:s(o).errors.recovery_code},null,8,["message"])])):(c(),n("div",Z,[e(w,{for:"code",value:"Code"}),e(B,{id:"code",ref_key:"codeInput",ref:h,modelValue:s(o).code,"onUpdate:modelValue":u[0]||(u[0]=p=>s(o).code=p),type:"text",inputmode:"numeric",autofocus:"",placeholder:"Enter the code that you recieve your authenticator app",autocomplete:"one-time-code",class:y({"is-invalid":s(o).errors.code})},null,8,["modelValue","class"]),e(b,{class:"mt-2",message:s(o).errors.code},null,8,["message"])])),t("div",J,[t("button",{type:"button",class:"btn btn-primary me-1",onClick:x(C,["prevent"])},[r.value?(c(),n(i,{key:1},[d(" Use an authentication code ")],64)):(c(),n(i,{key:0},[d(" Use a recovery code ")],64))]),e(V,{variant:"secondary",type:"submit",class:y({"opacity-25":s(o).processing}),disabled:s(o).processing},{default:a(()=>[d("Log in")]),_:1},8,["class","disabled"])])],32)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),t("footer",K,[e(g,null,{default:a(()=>[e(m,null,{default:a(()=>[e(_,{lg:"12"},{default:a(()=>[t("div",O,[t("p",Q,"Â© "+N(new Date().getFullYear())+" 3DG Realty Development.",1)])]),_:1})]),_:1})]),_:1})])])],64)}}};export{ce as default};
